

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Data &mdash; PyTao 0.1.5 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Variables" href="variables.html" />
    <link rel="prev" title="Plotting" href="plotting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> PyTao
          

          
          </a>

          
            
            
              <div class="version">
                0.1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interfaces.html">Scripting Interfaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Graphical Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html">GUI Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup.html">GUI Startup</a></li>
<li class="toctree-l2"><a class="reference internal" href="main-window.html">Main Window</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#viewing-data">Viewing Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-and-editing-data">Creating and Editing Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="other-windows.html">Other Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="misc.html">Miscelaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui-development.html">GUI Development</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic.html">PyTao basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic.html#Tao-method-commands">Tao method commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic.html#All-method-commands">All method commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic.html#Other-Tao-instances">Other Tao instances</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic.html#ParticleGroup-from-openPMD-beamphysics">ParticleGroup from openPMD-beamphysics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/basic.html#Error-handling-and-Debugging">Error handling and Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/advanced.html">PyTao advanced usage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev_docs/api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_docs/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_docs/development.html">Development Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bmad-sim/pytao">PyTao GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.classe.cornell.edu/bmad">Bmad website</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.classe.cornell.edu/bmad/tao.html">Tao website</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PyTao</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Graphical Interface</a> &raquo;</li>
        
      <li>Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/user_docs/gui/data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="data">
<h1>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h1>
<p>The GUI provides several windows for viewing and editing data arrays. This
chapter assumes you are familiar with <em>Tao</em> data nomenclature as discussed in
the Data chapter of the <em>Tao</em> manual.</p>
<div class="section" id="viewing-data">
<h2>Viewing Data<a class="headerlink" href="#viewing-data" title="Permalink to this headline">¶</a></h2>
<p>The figures below shows the various windows that the GUI provides for viewing
data and making minor changes to data arrays.</p>
<div class="figure align-center" id="id1">
<img alt="The GUI's data viewing windows." src="../../_images/view_data_1.png" />
<p class="caption"><span class="caption-text">The Tao root window and the menu shortcut for viewing data.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id2">
<img alt="The GUI's data viewing windows." src="../../_images/view_data_2.png" />
<p class="caption"><span class="caption-text">The d2_data_array window, which list the currently defined d2_data_arrays for
each universe.
This window also includes links to view and edit existing d1_data_arrays.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The d2_data_array window displays all data arrays for a given universe.
To view any existing d1_data_array, click on its “View” button.
This window also provides the ability to edit any existing data array in detail,
as well as functionality for writing existing data to a namelist.</p>
<div class="figure align-center" id="id3">
<img alt="The GUI's data viewing windows." src="../../_images/view_data_4.png" />
<p class="caption"><span class="caption-text">The d2_data_array window, which list the currently defined d2_data_arrays for
each universe.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id4">
<img alt="The GUI's data viewing windows." src="../../_images/view_data_4.png" />
<p class="caption"><span class="caption-text">The d1_data_array window (in this case for orbit.x), showing all of the
datums in the array orbit.x.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>The d1_data_array window allows the user to view an existing d1_data_array.
This window displays important properties of each datum in the array, such as
element name, meas, model, and design values, and weight, in a scrollable table.</p>
<p>To view a datum in detail, double click on its row in the d1_data_array window.
This will open the individual datum window for that datum, displaying all of its
properties and allowing some of them to be editted.</p>
<div class="figure align-center" id="id5">
<img alt="The GUI's data viewing windows." src="../../_images/view_data_5.png" />
<p class="caption"><span class="caption-text">The individual datum window (in this case for orbit.x[34]) displaying detailed datum properties and allowing the user to edit some of these properties.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id6">
<img alt="The GUI's data viewing windows." src="../../_images/view_data_3.png" />
<p class="caption"><span class="caption-text">The bulk edit window (in this case for orbit.x) providing controls to quickly edit a few key properties for multiple datums in a d1_data_array.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>The d1_data_array window also allows the user to edit a few key properties of
the datums in the array all at once using the bulk settings window.</p>
<p>This window is accessed by clicking on the “Bulk fill” button in the
d1_data_array window.</p>
<p>From here, the meas_value, good_user, and weight settings for the datums in the
array can be edited in bulk.</p>
<p>Changes may be applied to every datum in the array, or to only a specific range
of datums using the range specifier.</p>
<p>Once the desired settings have been specified, clicking the “Fill and apply”
button will edit the d1_data_array as necessary, and changes will be reflected
in the d1_data_array window.</p>
</div>
<div class="section" id="creating-and-editing-data">
<h2>Creating and Editing Data<a class="headerlink" href="#creating-and-editing-data" title="Permalink to this headline">¶</a></h2>
<p><em>Tao</em> data structures can be defined via an initialization file or on-the-fly
via the GUI. For setting up a data initialization file, see the
<em>Tao Initialization</em> chapter in the <em>Tao</em> manual. To initialize data via the GUI,
open the <strong>New D2 Data</strong> window</p>
<p>The GUI also supports the creation of data arrays on the fly through the create
dat window.</p>
<p>This window can be accessed as shown in figure below.</p>
<div class="figure align-center" id="id7">
<img alt="Data creation window." src="../../_images/create_d2_1.png" />
<p class="caption"><span class="caption-text">The data creation window can be accessed from the root window’s menubar.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id8">
<img alt="Data creation window." src="../../_images/create_d2_2.png" />
<p class="caption"><span class="caption-text">The first pane of the data creation window.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>In the first pane of the data creation window, the user can input the desired
settings for the new d2_data_array. The user can also select and existing
d2_data_array to clone.</p>
<p>This will copy the d2 properties of that array, as well as the d1 properties
and all of the datums for each d1 array.
Once this information has been input, the user can hit the “Next” button to go
to the d1_data_array pane.</p>
<p>The d1_array pane of the data creation window is where most of the data array’s
properties are set.</p>
<div class="figure align-center" id="id9">
<img alt="The d1_array pane of the data creation window." src="../../_images/create_d1_1.png" />
<p class="caption"><span class="caption-text">Here, only one d1_array has been created (called my_d1), its default data
type has been set to alpha.a, and the start and end indices have been set to
1 and 12 respectively.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>This pane is shown in the figure above.
The d1_array pane of the data creation window displays each d1_array in its own
tab. To add a tab, click on the “+” tab at the top of the window.
Tabs can also be removed by navigating to them and then clicking on their delete
button.
An existing tab can also be duplicated by clicking on the duplicate button right
under the delete button.
This may be useful if you want to define several d1_arrays with many of the same
properties, but want them each to have a different data type, for example.</p>
<p>The next section of the window holds the d1-level settings for the array.
Here, the d1 name, start index, and end index can be set, as well as the default
data_source, data_type, merit type, weight, and good user value for the d1_array.</p>
<p>The next section allows the users to set the ele_name, ele_start_name, and
ele_ref_name for the d1_array en-masse.</p>
<p>Clicking on these buttons will bring up the lattice browser window.</p>
<div class="figure align-center" id="id10">
<img alt="The d1_array pane of the data creation window." src="../../_images/create_d1_2.png" />
<p class="caption"><span class="caption-text">The lattice browser for the ele_names that will be used with my_d1.</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p>This window is essentially identical to the main lattice window for the GUI,
with a few additions.</p>
<p>Towards the top right of the window, the user can specify which indices to read
the element names into.
Clicking “Apply Element Names” will then write the ele names that are currently
in the table sequentially into the d1_array’s datums.
In the example shown, new_data_array.my_d1[1]|ele_name will be set to “Q00W#1”,
new_data_array.my_d1[2]|ele_name will be set to “Q01W”, and so on.</p>
<p>If there are more elements in the table than there are datums to write to, the
table will be truncated and only the first elements in the table will be used.
If there are less elements in the table than there are datums to write to, the
elements in the table will be looped through so that each datum gets an element
name.</p>
<p>The bottom portion of the d1_array pane of the data creation window allows the
user to set the properties of the individual datums in the array.</p>
<p>Once a start and end index have been specified, the “Datum” drop down menu will
be populated with all of the datum indices.</p>
<p>Selecting an index will bring up the datum settings for that datum, as shown in
the figure below.</p>
<div class="figure align-center" id="id11">
<img alt="The d1_array pane of the data creation window." src="../../_images/create_d1_3.png" />
<p class="caption"><span class="caption-text">Here, the user has defined three d1_arrays: x, y, and z.
The data type for new_data_array.x has been set to velocity.x, and the start
and end indices have been set to 1 and 12.
Here, the user is currently editing new_data_array.x[3], where the meas value
has been set to 0.2 and the ref value has been set to 0.4.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<p>Note that any settings that have a d1-level default value are automatically
filled in.
Once the user edits a property of a datum, that property will no longer be
auto-filled from the d1-level default settings, even if those default values are
subsequently edited.
If the user wants to explicitly fill a d1 setting to that d1_array’s datums,
they may do so with the corresponding “Fill to datums” button.</p>
<p>Once all of the data settings have been adjusted as necessary, the user must
click the “Create” button to create the d2_array in Tao.  Doing so will close
the data creation window.</p>
<p>The data creation window can also be accessed from the d2_data window discussed
in Section <code class="docutils literal notranslate"><span class="pre">Viewing</span> <span class="pre">Data</span></code>.</p>
<div class="figure align-center">
<img alt="Editting an existing d2_data_array." src="../../_images/edit_data_1.png" />
</div>
<p>Clicking on the “Edit” button for any d2 array will load that array into the data
creation window, just as if the user had cloned that array from the d2 pane of
the data creation window.</p>
<div class="figure align-center" id="id12">
<img alt="Editting an existing d2_data_array." src="../../_images/edit_data_2.png" />
<p class="caption"><span class="caption-text">Editing an existing d2_data_array.</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>Note that any changes made in the data creation window will not take effect in
<em>Tao</em> until the user clicks the “Create” button.
For example, clicking the delete button for the orbit.x array would not actually
delete the array in Tao until the user clicks “Create”.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="variables.html" class="btn btn-neutral float-right" title="Variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="plotting.html" class="btn btn-neutral float-left" title="Plotting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, David Sagan.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>